[variables]
# Force Node 24 (Prisma also supports 24.x)
NIXPACKS_NODE_VERSION = "24.0.0"

[phases.setup]
# Use Node.js 24 to satisfy Prisma requirements
nixPkgs = ["nodejs_24"]

[phases.install]
cmds = ["npm ci --omit=dev"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npm run start:prod"

